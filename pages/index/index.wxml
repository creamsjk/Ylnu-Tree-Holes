<view><view class="divHead"><image src="/static/index_image/beijing_png.png" mode></image></view><view class="divTitle"><view class="divStatic"><image class="logo" src="../../static/index_image/log.jpg"></image><view class="divDesc"><view class="divName">美食元素</view><view class="divSend"><image src="/static/index_image/dingwei.png"></image><text>距离1.5km</text><image src="/static/index_image/qiandai.png"></image><text>配送费2元</text><image src="/static/index_image/shijian.png"></image><text>预计时长12min</text></view></view></view><view class="divDesc">简介: “有滋有味的生活来自于对美食的品味和享受”.</view></view><view class="divBody"><view class="divType"><scroll-view class="ul" scroll-y="{{true}}"><block wx:for="{{categoryList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['categoryClick',[index,'$0','$1'],[[['categoryList','',index,'id']],[['categoryList','',index,'type']]]]]]]}}" class="{{['li',activeType===index?'active':'']}}" bindtap="__e">{{''+item.name+''}}</view></block></scroll-view></view><view class="divMenu"><scroll-view style="{{'margin-top:100rpx;'+('height:'+(wh+150+'rpx')+';')}}" scroll-y="{{true}}" scroll-top="{{scrollTop}}"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['dishDetails',['$0'],[[['dishList','',index]]]]]]]}}" class="divItem" bindtap="__e"><u-image vue-id="{{'8dd740cc-1-'+index}}" width="172rpx" height="172rpx" src="{{item.m0}}" bind:__l="__l" vue-slots="{{['default']}}"><image src="../../static/images/noImg.png"></image></u-image><view><view class="divName">{{item.$orig.name}}</view><view class="divDesc">{{item.$orig.description}}</view><view class="divDesc">{{'月销'+(item.$orig.saleNum?item.$orig.saleNum:0)}}</view><view class="divBottom"><text>￥</text><text>{{item.$orig.price/100}}</text></view><view class="divNum"><block wx:if="{{item.$orig.number>=1}}"><view class="divAdd"><image src="../../static/images/subtract.png" data-event-opts="{{[['tap',[['subtractCart',['$0'],[[['dishList','',index]]]]]]]}}" catchtap="__e"></image></view></block><view class="divDishNum">{{item.$orig.number}}</view><block wx:if="{{item.$orig.flavors&&item.$orig.flavors.length>0&&!item.$orig.number}}"><view data-event-opts="{{[['tap',[['chooseFlavorClick',['$0'],[[['dishList','',index]]]]]]]}}" class="divTypes" catchtap="__e">选择规格</view></block><block wx:else><view class="divAdd"><image src="../../static/images/add.png" data-event-opts="{{[['tap',[['addCart',['$0'],[[['dishList','',index]]]]]]]}}" catchtap="__e"></image></view></block></view></view></view></block></scroll-view></view></view><view class="divLayer"><view class="divLayerLeft"></view><view class="divLayerRight"></view></view><block wx:if="{{categoryList.length>0}}"><view class="divCart"><block wx:if="{{!cartData||cartData.length<1}}"><view class="imgCart"><image style="height:100%;width:100%;" src="/static//index_image/暂无配送.png"></image></view></block><block wx:else><view data-event-opts="{{[['tap',[['openCart',['$event']]]]]}}" class="imgCartActive" bindtap="__e"><image style="height:100%;width:100%;" src="/static//index_image/配送快递服务.png"></image></view></block><block wx:if="{{cartData&&cartData.length>0}}"><view class="{{[(1===1)?'divGoodsNum':'',(cartData&&cartData.length>99)?'moreGoods':'']}}">{{goodsNum}}</view></block><view class="divNum"><text>￥</text><text>{{goodsPrice}}</text></view><view class="divPrice"></view><block wx:if="{{cartData.length<1}}"><button class="btnSubmit">去结算</button></block><block wx:else><button data-event-opts="{{[['tap',[['toAddOrderPage',['$event']]]]]}}" class="btnSubmitActive" bindtap="__e">去结算</button></block></view></block><u-popup class="vue-ref" vue-id="8dd740cc-2" closeOnClickOverlay="{{true}}" round="{{10}}" mode="center" show="{{dialogFlavor.show}}" data-ref="flavorDialog" value="{{dialogFlavor.show}}" data-event-opts="{{[['^close',[['flavorclose']]],['^input',[['__set_model',['$0','show','$event',[]],['dialogFlavor']]]]]}}" bind:close="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="dialogFlavor"><view class="dialogTitle">{{dialogFlavor.name}}</view><view class="divContent"><block wx:for="{{$root.l2}}" wx:for-item="flavor" wx:for-index="index" wx:key="id"><view><view class="divFlavorTitle">{{flavor.$orig.name}}</view><block wx:for="{{flavor.l1}}" wx:for-item="item" wx:for-index="__i0__" wx:key="*this"><text data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({index,item})}}" class="{{[(flavor.$orig.dishFlavor===item)?'spanActive':'']}}" bindtap="__e">{{''+item+''}}</text></block></view></block></view><view class="divBottom"><view><text class="spanMoney">￥</text>{{''+dialogFlavor.price/100+''}}</view><view data-event-opts="{{[['tap',[['dialogFlavorAddCart',['$event']]]]]}}" bindtap="__e">加入购物车</view></view></view></u-popup><u-notify vue-id="8dd740cc-3" show="{{true}}" message="123" type="warning" bind:__l="__l"></u-notify><u-popup vue-id="8dd740cc-4" mode="bottom" show="{{cartDialogShow}}" closeOnClickOverlay="{{true}}" round="{{10}}" value="{{cartDialogShow}}" data-event-opts="{{[['^close',[['cartclose']]],['^input',[['__set_model',['','cartDialogShow','$event',[]]]]]]}}" bind:close="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="dialogCart"><view class="divCartTitle"><view class="title">购物车</view><view data-event-opts="{{[['tap',[['clearCart',['$event']]]]]}}" class="clear" bindtap="__e"><view class="el-icon-delete"></view>清空</view></view><scroll-view style="{{'height:'+(wh+'rpx')+';'}}" scroll-y="true"><view class="divCartContent"><block wx:for="{{$root.l3}}" wx:for-item="item" wx:for-index="__i1__" wx:key="id"><view class="divCartItem"><u-image vue-id="{{('8dd740cc-5-'+__i1__)+','+('8dd740cc-4')}}" width="128rpx" height="128rpx" src="{{item.m1}}" bind:__l="__l"></u-image><view class="divDesc"><view class="name">{{item.$orig.name}}</view><view class="price"><text class="spanMoney">￥</text>{{''+item.$orig.amount+''}}</view></view><view class="divNum"><view class="divSubtract"><image src="../../static/images/subtract.png" data-event-opts="{{[['tap',[['cartNumberSubtract',['$0'],[[['cartData','id',item.$orig.id]]]]]]]}}" bindtap="__e"></image></view><view class="divDishNum" style="font-size:28rpx;font-weight:bold;">{{item.$orig.number+''}}</view><view class="divAdd"><image src="../../static/images/add.png" data-event-opts="{{[['tap',[['cartNumAdd',['$0'],[[['cartData','id',item.$orig.id]]]]]]]}}" bindtap="__e"></image></view></view><view class="divSplit"></view></view></block></view></scroll-view></view></u-popup><block wx:if="{{detailsDialog.show}}"><u-popup class="vue-ref" vue-id="8dd740cc-6" closeOnClickOverlay="{{true}}" round="{{10}}" mode="center" show="{{detailsDialog.show}}" data-ref="detailsDialog" value="{{detailsDialog.show}}" data-event-opts="{{[['^close',[['dishclose']]],['^input',[['__set_model',['$0','show','$event',[]],['detailsDialog']]]]]}}" bind:close="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="detailsDialog"><view class="divContainer"><u-image vue-id="{{('8dd740cc-7')+','+('8dd740cc-6')}}" src="{{$root.m2}}" bind:__l="__l" vue-slots="{{['error']}}"><view class="image-slot" slot="error"><image src="../../static/images/noImg.png"></image></view></u-image><view class="title">{{detailsDialog.item.name}}</view><view class="content">{{detailsDialog.item.description}}</view></view><view class="divNum"><view class="left"><text>￥</text><text>{{detailsDialog.item.price/100}}</text></view><view class="right"><block wx:if="{{detailsDialog.item.number>0}}"><view class="divSubtract"><image src="../../static/images/subtract.png" data-event-opts="{{[['tap',[['subtractCart',['$0'],['detailsDialog.item']]]]]}}" bindtap="__e"></image></view></block><view class="divDishNum">{{detailsDialog.item.number}}</view><block wx:if="{{detailsDialog.item.flavors&&detailsDialog.item.flavors.length>0&&!detailsDialog.item.number}}"><view data-event-opts="{{[['tap',[['chooseFlavorClick',['$0'],['detailsDialog.item']]]]]}}" class="divTypes" bindtap="__e">选择规格</view></block><block wx:else><view class="divAdd"><image src="../../static/images/add.png" data-event-opts="{{[['tap',[['addCart',['$0'],['detailsDialog.item']]]]]}}" bindtap="__e"></image></view></block></view></view></view></u-popup></block><block wx:if="{{setMealDialog.show}}"><u-popup class="vue-ref" vue-id="8dd740cc-8" closeOnClickOverlay="{{true}}" round="{{10}}" mode="center" show="{{setMealDialog.show}}" data-ref="setMealDetailsDialogd" value="{{setMealDialog.show}}" data-event-opts="{{[['^close',[['setMealclose']]],['^input',[['__set_model',['$0','show','$event',[]],['setMealDialog']]]]]}}" bind:close="__e" bind:input="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="setMealDetailsDialog"><view class="divContainer"><view class="title">{{setMealDialog.item.name}}</view><block wx:for="{{$root.l4}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="item"><u-image vue-id="{{('8dd740cc-9-'+index)+','+('8dd740cc-8')}}" src="{{item.m3}}" bind:__l="__l" vue-slots="{{['error']}}"><view class="image-slot" slot="error"><image src="../../static/images/noImg.png"></image></view></u-image><view class="divSubTitle">{{''+(item.$orig.name+'('+item.$orig.copies+'份)')+''}}<view class="divPrice"><text>￥</text><text>{{item.$orig.price/100}}</text></view></view><view class="content">{{item.$orig.description}}</view></view></block></view><view class="divNum"><view class="left"><text>￥</text><text>{{setMealDialog.item.price/100}}</text></view><view class="right"><block wx:if="{{setMealDialog.item.number>0}}"><view class="divSubtract"><image src="../../static/images/subtract.png" data-event-opts="{{[['tap',[['subtractCart',['$0'],['setMealDialog.item']]]]]}}" bindtap="__e"></image></view></block><view class="divDishNum">{{setMealDialog.item.number}}</view><block wx:if="{{setMealDialog.item.number}}"><view class="divAdd"><image src="../../static/images/add.png" data-event-opts="{{[['tap',[['addCart',['$0'],['setMealDialog.item']]]]]}}" bindtap="__e"></image></view></block><block wx:if="{{!setMealDialog.item.number}}"><view data-event-opts="{{[['tap',[['addCart',['$0'],['setMealDialog.item']]]]]}}" class="addCart" bindtap="__e">加入购物车</view></block></view></view></view></u-popup></block></view>